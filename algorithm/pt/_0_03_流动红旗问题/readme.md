为了开展德育工作建设，学校决定开启德育评比工作，包括“纪律、卫生、礼仪、文明、思想”方面。对每个班级进行评比，每项的分数为(0,100]。评比规则适用全校所有年级。

假设，某中学A仅区分高一、高二、高三年级，高一年级有30个班、高二年级有28个班、高三年级有45个班。

1. 请建模求解获得流动红旗的班级记录，要求为：每年级前3名的班级将获得流动红旗，一个班级可以拥有多个德育红旗，譬如高一3班获得了纪律、礼仪两面流动红旗。


2. 假设任教年级未知，从低到高的年级个数为h1, h2, h3,... 。对应的班级个数为c1, c2, c3, ... 。并且。获取流动红旗的规则希望更合理，即希望分数达到95分以上，即可获得相应的流动红旗，请建模求解获得流动红旗的班级记录。

3. 统计分析后发现，在台风天气、放假期间，【卫生】的分数总是达不到95分的情况。希望当某个年级所有班级都未能领取到【卫生】流动红旗时，则选取前3名的班级进行颁发。请建模求解该方案。

4. 假设德育评比项为m1, m2, m3, ... 。每项分数为(0, S]。某学校有h1, h2, h3, ... 个年级，每个年级对应有c1, c2, c3, ... 个班级。当分数达到k ∈ (0, S]时对班级颁发流动红旗，当某个年级某个评比项的获奖班级个数少于或等于p时，按照前p名进行颁奖。请建模求解该方案的获奖记录。